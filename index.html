<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bible Timeline Order</title>
  <style>
    :root { --pad: 16px; --radius: 16px; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; margin: 0; background:#f6f7fb; color:#111; }
    header { padding: 18px var(--pad); background: white; border-bottom: 1px solid #e7e7ee; position: sticky; top: 0; z-index: 5; }
    h1 { font-size: 18px; margin: 0 0 6px; }
    p { margin: 0; font-size: 14px; color:#444; line-height: 1.35; }

    main { padding: var(--pad); max-width: 820px; margin: 0 auto; }

    .panel {
      background: white;
      border: 1px solid #e7e7ee;
      border-radius: var(--radius);
      padding: var(--pad);
      box-shadow: 0 1px 0 rgba(0,0,0,0.02);
    }

    .hint { font-size: 13px; color:#555; margin: 8px 0 14px; }

    .list { display:flex; flex-direction:column; gap: 10px; }

    .item {
      background: #fff;
      border: 1px solid #d9d9e5;
      border-radius: 14px;
      padding: 12px;
      display:flex;
      align-items:center;
      gap: 12px;

      /* prevent annoying selection behaviors */
      -webkit-user-select: none;
      user-select: none;
      -webkit-touch-callout: none;
    }

    .label {
      font-size: 16px;
      line-height: 1.2;
      flex: 1 1 auto;
    }

    .controlsRow {
      display:flex;
      gap: 10px;
      flex: 0 0 auto;
    }

    .moveBtn {
      width: 46px;
      height: 46px;
      border-radius: 14px;
      border: 1px solid #d9d9e5;
      background: #fff;
      font-size: 18px;
      font-weight: 900;
      line-height: 1;
      display:grid;
      place-items:center;
    }
    .moveBtn:active { transform: translateY(1px); }
    .moveBtn[disabled] { opacity: 0.35; }

    .controls { display:flex; gap:10px; flex-wrap: wrap; margin-top: 14px; }
    button.action {
      border: 1px solid #d9d9e5;
      background: white;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 700;
      font-size: 14px;
    }
    button.primary { border-color:#7c83ff; }
    button.action:active { transform: translateY(1px); }

    .status {
      margin-top: 12px;
      font-size: 14px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid #e7e7ee;
      background: #fff;
    }
    .status.ok { border-color: #b7e3c6; background:#f3fff7; }
    .status.no { border-color: #ffd1d1; background:#fff5f5; }
  </style>
</head>
<body>
  <header>
    <h1>Bible Timeline Mini-Game</h1>
    <p>Tap ▲ / ▼ to move items until they’re in the correct order, then tap <b>Check</b>.</p>
  </header>

  <main>
    <section class="panel">
      <div class="hint">This version is built for phones: no dragging, no accidental text highlighting.</div>

      <div id="list" class="list" aria-label="Timeline reorder list"></div>

      <div class="controls">
        <button class="action primary" id="checkBtn">Check</button>
        <button class="action" id="resetBtn">Reset</button>
        <button class="action" id="showBtn">Show Answer</button>
      </div>

      <div id="status" class="status" style="display:none;"></div>
    </section>
  </main>

  <script>
    const CORRECT = [
      "Before the Flood",
      "The Flood",
      "Scattering of the People",
      "Patriarchs",
      "Exodus",
      "Wandering in the Wilderness",
      "Invasion and Conquest",
      "Judges",
      "United Kingdom",
      "Divided Kingdom",
      "Judah Alone",
      "Captivity",
      "Return",
      "Years of Silence",
      "Life of Christ",
      "Early Church",
      "Letters to Christians"
    ];

    const listEl = document.getElementById("list");
    const statusEl = document.getElementById("status");

    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function clearStatus() {
      statusEl.style.display = "none";
      statusEl.classList.remove("ok", "no");
      statusEl.textContent = "";
    }

    function setStatus(ok, message) {
      statusEl.style.display = "block";
      statusEl.classList.toggle("ok", ok);
      statusEl.classList.toggle("no", !ok);
      statusEl.textContent = message;
    }

    function getCurrentOrder() {
      return Array.from(listEl.querySelectorAll(".item")).map(el => el.dataset.value);
    }

    function render(items) {
      listEl.innerHTML = "";
      items.forEach((text, idx) => {
        const row = document.createElement("div");
        row.className = "item";
        row.dataset.value = text;

        const label = document.createElement("div");
        label.className = "label";
        label.textContent = text;

        const controls = document.createElement("div");
        controls.className = "controlsRow";

        const up = document.createElement("button");
        up.className = "moveBtn";
        up.type = "button";
        up.textContent = "▲";
        up.disabled = (idx === 0);
        up.addEventListener("click", () => move(idx, -1));

        const down = document.createElement("button");
        down.className = "moveBtn";
        down.type = "button";
        down.textContent = "▼";
        down.disabled = (idx === items.length - 1);
        down.addEventListener("click", () => move(idx, +1));

        controls.append(up, down);
        row.append(label, controls);
        listEl.append(row);
      });
    }

    function move(index, delta) {
      clearStatus();
      const items = getCurrentOrder();
      const newIndex = index + delta;
      if (newIndex < 0 || newIndex >= items.length) return;

      [items[index], items[newIndex]] = [items[newIndex], items[index]];
      render(items);

      // small nicety: keep focus on the moved button row
      const rows = listEl.querySelectorAll(".item");
      if (rows[newIndex]) rows[newIndex].querySelector(".moveBtn").focus();
    }

    function resetGame() {
      clearStatus();
      render(shuffle(CORRECT));
    }

    document.getElementById("checkBtn").addEventListener("click", () => {
      clearStatus();
      const attempt = getCurrentOrder();
      const ok = attempt.every((v, i) => v === CORRECT[i]);
      setStatus(ok, ok ? "✅ Correct order!" : "❌ Not quite — keep moving items until it matches.");
    });

    document.getElementById("resetBtn").addEventListener("click", resetGame);

    document.getElementById("showBtn").addEventListener("click", () => {
      clearStatus();
      render(CORRECT);
      setStatus(true, "Answer shown. Tap Reset to scramble again.");
    });

    resetGame();
  </script>
</body>
</html>
